/// {{flow.name}}
/// Generated by Accumulate Studio
/// Network: {{network}}

import 'dart:async';
import 'dart:convert';
import 'dart:io';
import 'dart:typed_data';
import 'package:crypto/crypto.dart';
import 'package:opendlt_accumulate/opendlt_accumulate.dart';

const String defaultV2 = 'https://kermit.accumulatenetwork.io/v2';
const String defaultV3 = 'https://kermit.accumulatenetwork.io/v3';

String toHexString(List<int> bytes) {
  return bytes.map((b) => b.toRadixString(16).padLeft(2, '0')).join();
}

Future<void> main() async {
  final v2 = Platform.environment['ACCUMULATE_V2_URL'] ?? defaultV2;
  final v3 = Platform.environment['ACCUMULATE_V3_URL'] ?? defaultV3;
  final client = Accumulate.custom(v2Endpoint: v2, v3Endpoint: v3);
  final txIds = <MapEntry<String, String>>[];
  try {
{{#if hasFlowVars}}
    // Flow variables (customize these for your use case)
{{#each flowVarDefs}}
    final {{this.pythonName}} = {{this.dartDefaultValue}};  // {{this.description}}
{{/each}}
{{/if}}
